#!/usr/bin/env bash
set -euo pipefail

err=0
x=$'A \t\nğŸ¤–\\#~*+{<.?($!|&`"'\'

cd demo
for demo in *; do
  ret="$("./$demo" "$x")" && [[ "$ret" = "$x" ]] &&
  echo -en '\e[32mâœ“' || { echo -en '\e[31mâœ—' && ((++err)); }
  echo -e "\e[00m $demo"
done

exit $err